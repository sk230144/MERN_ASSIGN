{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Link}from'react-router-dom';import{UserContext}from'./UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){var _useContext=useContext(UserContext),setUserInfo=_useContext.setUserInfo,userInfo=_useContext.userInfo;useEffect(function(){fetch(\"\".concat(window.location.origin,\"/profile\"),{credentials:'include'}).then(function(response){response.json().then(function(userInfo){setUserInfo(userInfo);});});},[]);function logout(){fetch(\"\".concat(window.location.origin,\"/logout\"),{credentials:'include',method:'POST'});setUserInfo(null);}var username=userInfo===null||userInfo===void 0?void 0:userInfo.username;return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"Users Data\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[username&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"a\",{className:\"loga\",onClick:logout,children:\"Logout\"})}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Sign up\"})]})]})]});};export default Header;","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","UserContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Header","_useContext","setUserInfo","userInfo","fetch","concat","window","location","origin","credentials","then","response","json","logout","method","username","children","to","className","onClick"],"sources":["C:/Users/Admin/Desktop/Blog App/api/client/src/Header.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { UserContext } from './UserContext'\r\n\r\nconst Header = () => {\r\n   const {setUserInfo, userInfo} = useContext(UserContext);\r\n   useEffect(()=>{\r\n        fetch(`${window.location.origin}/profile`, {\r\n         credentials:'include',\r\n        }).then(response => {\r\n          response.json().then(userInfo => {\r\n            setUserInfo(userInfo);\r\n          })\r\n        })\r\n   },[])\r\n\r\n  \r\n\r\n  function logout(){\r\n    fetch(`${window.location.origin}/logout`, {\r\n      credentials: 'include',\r\n      method: 'POST',\r\n    })\r\n    setUserInfo(null);\r\n  }\r\n\r\n\r\nconst username = userInfo?.username;\r\n\r\n  return (\r\n        <header>\r\n        <Link to=\"/\" className=\"logo\"  >Users Data</Link>\r\n             <nav>\r\n             {username && (\r\n               <>\r\n                 <a className='loga' onClick={logout}>Logout</a>\r\n               </>\r\n             )}\r\n             {!username && (\r\n               <>\r\n               <Link to=\"/login\" >Login</Link>\r\n               <Link to=\"/register\" >Sign up</Link>\r\n               </>\r\n             )}\r\n             </nav>\r\n          </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,eAAe,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CAClB,IAAAC,WAAA,CAAgCZ,UAAU,CAACI,WAAW,CAAC,CAAhDS,WAAW,CAAAD,WAAA,CAAXC,WAAW,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAC5Bb,SAAS,CAAC,UAAI,CACTc,KAAK,IAAAC,MAAA,CAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,aAAY,CAC1CC,WAAW,CAAC,SACb,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAClBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAAAP,QAAQ,CAAI,CAC/BD,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACP,CAAC,CAAC,EAAE,CAAC,CAIN,QAAS,CAAAU,MAAMA,CAAA,CAAE,CACfT,KAAK,IAAAC,MAAA,CAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,YAAW,CACxCC,WAAW,CAAE,SAAS,CACtBK,MAAM,CAAE,MACV,CAAC,CAAC,CACFZ,WAAW,CAAC,IAAI,CAAC,CACnB,CAGF,GAAM,CAAAa,QAAQ,CAAGZ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEY,QAAQ,CAEjC,mBACMhB,KAAA,WAAAiB,QAAA,eACArB,IAAA,CAACH,IAAI,EAACyB,EAAE,CAAC,GAAG,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAG,YAAU,CAAM,CAAC,cAC5CjB,KAAA,QAAAiB,QAAA,EACCD,QAAQ,eACPpB,IAAA,CAAAE,SAAA,EAAAmB,QAAA,cACErB,IAAA,MAAGuB,SAAS,CAAC,MAAM,CAACC,OAAO,CAAEN,MAAO,CAAAG,QAAA,CAAC,QAAM,CAAG,CAAC,CAC/C,CACH,CACA,CAACD,QAAQ,eACRhB,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACArB,IAAA,CAACH,IAAI,EAACyB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAE,OAAK,CAAM,CAAC,cAC/BrB,IAAA,CAACH,IAAI,EAACyB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAE,SAAO,CAAM,CAAC,EAClC,CACH,EACI,CAAC,EACD,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAhB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}