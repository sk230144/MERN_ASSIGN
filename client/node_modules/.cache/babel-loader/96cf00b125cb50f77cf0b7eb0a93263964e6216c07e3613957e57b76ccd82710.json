{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{UserContext}from'../UserContext';import ImageGallery from'../Post';import LoginPage from'./LoginPage';import{jsx as _jsx}from\"react/jsx-runtime\";var IndexPage=function IndexPage(){var _useContext=useContext(UserContext),setUserInfo=_useContext.setUserInfo,userInfo=_useContext.userInfo;useEffect(function(){fetch(\"\".concat(window.location.origin,\"/profile\"),{credentials:'include'}).then(function(response){response.json().then(function(userInfo){setUserInfo(userInfo);});});},[]);var username=userInfo===null||userInfo===void 0?void 0:userInfo.username;return/*#__PURE__*/_jsx(\"div\",{children:username?/*#__PURE__*/_jsx(ImageGallery,{}):/*#__PURE__*/_jsx(LoginPage,{})});};export default IndexPage;","map":{"version":3,"names":["React","useContext","useEffect","UserContext","ImageGallery","LoginPage","jsx","_jsx","IndexPage","_useContext","setUserInfo","userInfo","fetch","concat","window","location","origin","credentials","then","response","json","username","children"],"sources":["C:/Users/Admin/Desktop/Blog App/api/client/src/pages/IndexPage.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { UserContext } from '../UserContext';\r\nimport ImageGallery from '../Post';\r\nimport LoginPage from './LoginPage';\r\n\r\nconst IndexPage = () => {\r\n  const { setUserInfo, userInfo } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch(`${window.location.origin}/profile`, {\r\n      credentials: 'include',\r\n    }).then(response => {\r\n      response.json().then(userInfo => {\r\n        setUserInfo(userInfo);\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const username = userInfo?.username;\r\n\r\n  return (\r\n    <div>\r\n      {username ? <ImageGallery /> : <LoginPage />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,MAAO,CAAAC,YAAY,KAAM,SAAS,CAClC,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpC,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,WAAA,CAAkCR,UAAU,CAACE,WAAW,CAAC,CAAjDO,WAAW,CAAAD,WAAA,CAAXC,WAAW,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAE7BT,SAAS,CAAC,UAAM,CACdU,KAAK,IAAAC,MAAA,CAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,aAAY,CACzCC,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAClBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAAAP,QAAQ,CAAI,CAC/BD,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAU,QAAQ,CAAGV,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEU,QAAQ,CAEnC,mBACEd,IAAA,QAAAe,QAAA,CACGD,QAAQ,cAAGd,IAAA,CAACH,YAAY,GAAE,CAAC,cAAGG,IAAA,CAACF,SAAS,GAAE,CAAC,CACzC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAG,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}